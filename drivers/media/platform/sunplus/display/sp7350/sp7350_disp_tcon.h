/* SPDX-License-Identifier: GPL-2.0 */
/*
 * Sunplus SP7350 SoC Display driver for TCON block
 *
 * Author: Hammer Hsieh <hammer.hsieh@sunplus.com>
 */
#ifndef __SP7350_DISP_TCON_H__
#define __SP7350_DISP_TCON_H__

/*TCON_TCON0*/
#define SP7350_TCON_DOT_RGB888_MASK		BIT(15)
#define SP7350_TCON_DOT_RGB666	                0x0
#define SP7350_TCON_DOT_RGB888	                0x1
#define SP7350_TCON_DOT3_BITREV		        BIT(14)
#define SP7350_TCON_DOT2_BITREV		        BIT(13)
#define SP7350_TCON_DOT1_BITREV		        BIT(12)
#define SP7350_TCON_DOT_ORDER_MASK		GENMASK(11, 9)
#define SP7350_TCON_DOT_ORDER_SET(ord)	        FIELD_PREP(GENMASK(11, 9), ord)
#define SP7350_TCON_DOT_ORDER_RGB		0x0
#define SP7350_TCON_DOT_ORDER_RBG		0x1
#define SP7350_TCON_DOT_ORDER_GBR		0x2
#define SP7350_TCON_DOT_ORDER_GRB		0x3
#define SP7350_TCON_DOT_ORDER_BRG		0x4
#define SP7350_TCON_DOT_ORDER_BGR		0x5
#define SP7350_TCON_DITHER_YUV_EN		BIT(6)
#define SP7350_TCON_OUT_PACKAGE_MASK		GENMASK(5, 3)
#define SP7350_TCON_OUT_PACKAGE_SET(fmt)	FIELD_PREP(GENMASK(5, 3), fmt)
#define SP7350_TCON_OUT_PACKAGE_DSI_RGB565	0x0
#define SP7350_TCON_OUT_PACKAGE_CSI_RGB565	0x1
#define SP7350_TCON_OUT_PACKAGE_CSI_YUY2	0x2
#define SP7350_TCON_OUT_PACKAGE_DSI_RGB666_18	0x3
#define SP7350_TCON_OUT_PACKAGE_DSI_RGB888	0x4
#define SP7350_TCON_OUT_PACKAGE_DSI_RGB666_24	0x5
#define SP7350_TCON_OUT_PACKAGE_CSI_RGB888	0x6
#define SP7350_TCON_HVIF_EN		        BIT(1)
#define SP7350_TCON_YU_SWAP		        BIT(0)

/*TCON_TCON1*/
#define SP7350_TCON_EN		                BIT(15)
#define SP7350_TCON_INV_POL		        BIT(14)
#define SP7350_TCON_CSC_MODE		        BIT(11)
#define SP7350_TCON_CSC_MODE_RGB_TO_BT601	0x0
#define SP7350_TCON_CSC_MODE_RGB_TO_BT709	0x1
#define SP7350_TCON_DE_VACT_EN		        BIT(10)
#define SP7350_TCON_DT_MODE		        GENMASK(9, 8)
#define SP7350_TCON_VMODE_EN		        BIT(7)
#define SP7350_TCON_ALINE_MNL_EN		BIT(6)
#define SP7350_TCON_STVU_MNL_EN		        BIT(5)
#define SP7350_TCON_YUV_UV_SWAP		        BIT(4)
#define SP7350_TCON_TB_VCOM_POL		        BIT(3)
#define SP7350_TCON_TB_VCOM_EN		        BIT(2)
#define SP7350_TCON_STHLR_DLY_MASK		GENMASK(1, 0)
#define SP7350_TCON_STHLR_DLY_SET(dly)	        FIELD_PREP(GENMASK(1, 0), dly)
#define SP7350_TCON_STHLR_DLY_0T	        0x0
#define SP7350_TCON_STHLR_DLY_1T	        0x1
#define SP7350_TCON_STHLR_DLY_2T	        0x2
#define SP7350_TCON_STHLR_DLY_3T	        0x3

/*TCON_TCON2*/
#define SP7350_TCON_CPH1_POL		        BIT(2)
#define SP7350_TCON_HDS_FILTER		        BIT(0)

/*TCON_TCON3*/
#define SP7350_TCON_DP_RGB_OFF		        BIT(11)
#define SP7350_TCON_STHLR_POL		        BIT(5)
#define SP7350_TCON_STVU_POL		        BIT(4)
#define SP7350_TCON_CKV_POL		        BIT(3)
#define SP7350_TCON_OEV_POL		        BIT(2)
#define SP7350_TCON_OEH_POL		        BIT(1)
#define SP7350_TCON_VCOM_POL		        BIT(0)

/*TCON_TCON4*/
#define SP7350_TCON_PIX_EN_SEL_MASK		GENMASK(3, 0)
#define SP7350_TCON_PIX_EN_SEL_SET(sel)	        FIELD_PREP(GENMASK(3, 0), sel)
#define SP7350_TCON_PIX_EN_DIV_1_CLK_TCON	0x0
#define SP7350_TCON_PIX_EN_DIV_2_CLK_TCON	0x1
#define SP7350_TCON_PIX_EN_DIV_3_CLK_TCON	0x2
#define SP7350_TCON_PIX_EN_DIV_4_CLK_TCON	0x3
#define SP7350_TCON_PIX_EN_DIV_6_CLK_TCON	0x4
#define SP7350_TCON_PIX_EN_DIV_8_CLK_TCON	0x5
#define SP7350_TCON_PIX_EN_DIV_12_CLK_TCON	0x6
#define SP7350_TCON_PIX_EN_DIV_16_CLK_TCON	0x7
#define SP7350_TCON_PIX_EN_DIV_24_CLK_TCON	0x8
#define SP7350_TCON_PIX_EN_DIV_32_CLK_TCON	0x9

/*TCON_TCON5*/
#define SP7350_TCON_CHK_SUM_ACTIVE_EN		BIT(5)
#define SP7350_TCON_SUR_SEL		        BIT(4)
#define SP7350_TCON_AFIFO_DIS		        BIT(3)
#define SP7350_TCON_CHK_SUM_EN		        BIT(2)
#define SP7350_TCON_COLOR_SPACE_DIS		BIT(1)
#define SP7350_TCON_COLOR_SPACE_SEL		BIT(0)
#define SP7350_TCON_COLOR_SPACE_BT601	        0x0
#define SP7350_TCON_COLOR_SPACE_BT709	        0x1

/*TCON_TPG_CTRL*/
#define SP7350_TCON_TPG_PATTERN			GENMASK(5, 2)
#define SP7350_TCON_TPG_PATTERN_SET(pat)	FIELD_PREP(GENMASK(5, 2), pat)
#define SP7350_TCON_TPG_PATTERN_H_1_BAR		0x0
#define SP7350_TCON_TPG_PATTERN_H_2_RAMP	0x1
#define SP7350_TCON_TPG_PATTERN_H_3_ODD		0x2
#define SP7350_TCON_TPG_PATTERN_V_1_BAR		0x3
#define SP7350_TCON_TPG_PATTERN_V_2_RAMP	0x4
#define SP7350_TCON_TPG_PATTERN_V_3_ODD		0x5
#define SP7350_TCON_TPG_PATTERN_HV_1_CHK	0x6
#define SP7350_TCON_TPG_PATTERN_HV_2_FRAME	0x7
#define SP7350_TCON_TPG_PATTERN_HV_3_MOI_A	0x8
#define SP7350_TCON_TPG_PATTERN_HV_4_MOI_B	0x9
#define SP7350_TCON_TPG_PATTERN_HV_5_CONTR	0xa
#define SP7350_TCON_TPG_MODE			GENMASK(1, 0)
#define SP7350_TCON_TPG_MODE_SET(mod)		FIELD_PREP(GENMASK(1, 0), mod)
#define SP7350_TCON_TPG_MODE_NORMAL		0x0
#define SP7350_TCON_TPG_MODE_INTERNAL		0x1
#define SP7350_TCON_TPG_MODE_EXTERNAL		0x2

/*
 * Init SP7350 TCON Setting
 */
void sp7350_tcon_init(void);

/*
 * Show SP7350 TCON Info
 */
void sp7350_tcon_decrypt_info(void);
void sp7350_tcon_resolution_chk(void);

/*
 * SP7350 TCON BIST Settings
 */
void sp7350_tcon_bist_info(void);
void sp7350_tcon_bist_set(int bist_mode, int tcon_bist_pat);

/*
 * SP7350 TCON Timing Control Settings
 */
void sp7350_tcon_timing_set_dsi(void);
void sp7350_tcon_timing_set_csi(void);
void sp7350_tcon_timing_get(void);

/*
 * SP7350 TCON register store/restore
 */
void sp7350_tcon_store(void);
void sp7350_tcon_restore(void);

#endif	//__SP7350_DISP_TCON_H__
